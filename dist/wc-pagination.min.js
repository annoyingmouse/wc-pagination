!function(){"use strict";class t extends HTMLElement{static get observedAttributes(){return["total","page-size","current"]}constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}get css(){return'<style>:host {display: inline-block;--active-border-color: #2c3e50;--active-background-color: #2c3e50;--inactive-border-color: #e5e5e5;--inactive-text-color: #7f8c8d;--active-text-color: #fff;--inactive-background-color: #fff;}nav {ol {display: flex;align-items: center;gap: 6px;margin: 0;padding: 0;list-style: none;width: 100%;text-align: right;li {display: inline-block;button {background: none;padding: 0;font: inherit;cursor: pointer;text-decoration: none;font-weight: bold;background-color: var(--inactive-background-color);color: var(--inactive-text-color);display: flex;align-items: center;justify-content: center;width: 40px;height: 40px;border: 1px solid var(--inactive-border-color);user-select: none;&:focus {outline: 2px solid var(--active-background-color);outline-offset: 2px;}&:disabled {cursor: not-allowed;}&[aria-current="page"] {border: none;background-color: var(--active-background-color);color: var(--active-text-color);}}}}.sr-only {position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0, 0, 0, 0);white-space: nowrap;border-width: 0;}}</style>'}get html(){return`<nav aria-label="Pagination"><ol><li><button type="button"aria-label="${1===this.current?"Already on page 1":"Goto page 1"}"title="${1===this.current?"Already on page 1":"Goto page 1"}"${1===this.current?['class="disabled"',"disabled",'aria-disabled="true"'].join(" "):'data-target="1"'}>←</button></li>${this.totalPages>3&&this.current-2>=1?`<li><button type="button"aria-label="${["Goto page",this.current-3].join(" ")}"data-target="${this.current-3}"title="${["Goto page",this.current-3].join(" ")}">…<span class="sr-only">Jump back 3 pages</span></button></li>`:""}${this.generatePages().map(t=>`<li><button type="button"data-page="${t}"aria-label="${t===this.current?["Current page,",`page${t}`].join(" "):["Goto page",`${t}`].join(" ")}"title="${t===this.current?["Current page, page",`${t}`].join(" "):["Goto page",`${t}`].join(" ")}"${t===this.current?['aria-current="page"','class="active disabled"',"disabled",'aria-disabled="true"'].join(" "):`data-target="${t}"`}>${t}</button></li>`).join("")}${this.totalPages>3&&this.current+2<=this.totalPages?`<li><button type="button"aria-label="${["Goto page",this.current+3].join(" ")}"data-target="${this.current+3}"title="${["Goto page",this.current+3].join(" ")}">…<span class="sr-only">Jump forward 3 pages</span></button></li>`:""}<li><button type="button"aria-label="${this.current===this.totalPages?["Already on page",this.totalPages].join(" "):["Goto page",this.totalPages].join(" ")}"title="${this.current===this.totalPages?["Already on page",this.totalPages].join(" "):["Goto page",this.totalPages].join(" ")}"${this.current===this.totalPages?['class="disabled"',"disabled",'aria-disabled="true"'].join(" "):`data-target="${this.totalPages}"`}>→</button></li></ol><p class="sr-only" aria-live="polite">Page${this.current}of${this.totalPages}</p></nav>`}generatePages(){const{current:t,totalPages:e}=this;let a;a=1===t?1:t===e?Math.max(1,e-3+1):Math.max(1,t-1);const i=Math.min(e,a+3-1),r=[];for(let t=a;t<=i;t++)r.push(t);return r}render(){this.shadow.innerHTML=`${this.css}${this.html}`,this.shadow.addEventListener("click",t=>{const e=t.target.closest("button");e&&e.dataset.target&&(this.current=Number(e.dataset.target))})}connectedCallback(){this._onClick||(this._onClick=t=>{const e=t.target.closest("button");e&&e.dataset.target&&(this.current=Number(e.dataset.target))},this.shadow.addEventListener("click",this._onClick)),this.render()}disconnectedCallback(){this._onClick&&this.shadow.removeEventListener("click",this._onClick)}attributeChangedCallback(t,e,a){e!==a&&(this.render(),"current"===t&&this.dispatchEvent(new CustomEvent("page-change",{detail:{page:Number(a)}})))}get total(){return Number.parseInt(this.getAttribute("total")||"0",10)}get current(){return Number(this.getAttribute("current"))||1}set current(t){this.setAttribute("current",t.toString())}get pageSize(){return Number.parseInt(this.getAttribute("page-size")||"10",10)}get totalPages(){return Math.ceil(this.total/this.pageSize)}}globalThis.customElements.define("wc-pagination",t)}();
